/* static/css/quantum-v3.css */
:root {
    --primary: #4f46e5;
    --primary-dark: #4338ca;
    --primary-light: #8a75ff; /* Adjusted from previous V3 */
    --secondary: #0ea5e9;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --dark: #1e293b; /* Sidebar Background */
    --light: #f8fafc; /* Sidebar Text */
    --gray: #64748b; /* Muted text */
    --border: #374151; /* Darker border */
    --border-light: #4b5563; /* Slightly lighter border */
    --page-bg: #f1f5f9; /* Main content background - LIGHT THEME */
    --card-bg: #ffffff; /* Card background - LIGHT THEME */
    --text-dark: #1f2937; /* Main content text - LIGHT THEME */
    --panel-bg: #ffffff; /* Use white for panels in light theme */
    --admin: #6d28d9; /* Purple for Admin */

    /* Map Bootstrap RGB for JS components if needed */
    --bs-primary-rgb: 79, 70, 229;
    --bs-success-rgb: 16, 185, 129;
    --bs-info-rgb: 14, 165, 233; /* Using Secondary as Info */
    --bs-warning-rgb: 245, 158, 11;
    --bs-danger-rgb: 239, 68, 68;
    --bs-light-rgb: 248, 250, 252;
    --bs-dark-rgb: 30, 41, 59;
}

* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }

body { background-color: var(--page-bg); color: var(--text-dark); min-height: 100vh; display: flex; font-size: 14px; padding-bottom: 60px; }

/* Sidebar */
.sidebar { background-color: var(--dark); color: var(--light); padding: 1rem 1rem 0.5rem 1rem; display: flex; flex-direction: column; gap: 1.5rem; border-right: 1px solid #374151; width: 260px; position: fixed; left: 0; top: 0; height: 100vh; z-index: 100;}
.logo { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; margin-bottom: 1rem; }
.logo-icon { width: 36px; height: 36px; background-color: var(--primary); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 16px; color: white; flex-shrink: 0;}
.logo-text { font-size: 18px; font-weight: 600; color: white; }
.nav-section { display: flex; flex-direction: column; gap: 0.5rem; }
.nav-header { font-size: 11px; text-transform: uppercase; color: var(--gray); letter-spacing: 1px; padding: 0.5rem 0.75rem; margin-top: 1rem; }
.nav-link { display: flex; align-items: center; gap: 0.85rem; padding: 0.7rem 0.75rem; border-radius: 0.5rem; color: #94a3b8; text-decoration: none; transition: all 0.2s ease; font-weight: 500; font-size: 14px;}
.nav-link:hover { background-color: rgba(255, 255, 255, 0.05); color: var(--light); }
.nav-link.active { background-color: var(--primary); color: white; }
.nav-icon { width: 20px; height: 20px; flex-shrink: 0;}
.nav-link.admin { color: var(--warning); } /* Make admin stand out */
.nav-link.admin.active { background-color: rgba(245, 158, 11, 0.2); color: var(--warning); }
.nav-link.admin:hover { background-color: rgba(245, 158, 11, 0.1); color: var(--warning); }
.sidebar-menu { flex-grow: 1; overflow-y: auto; } /* Allow menu scrolling */
.user-profile { padding: 1rem; border-top: 1px solid #374151; display: flex; align-items: center; gap: 0.75rem; cursor: pointer; margin-top: auto; /* Push to bottom */ }
.user-avatar { width: 36px; height: 36px; border-radius: 50%; background-color: #e0e7ff; color: var(--primary); display: flex; align-items: center; justify-content: center; font-weight: 500; flex-shrink: 0;}
.user-info { line-height: 1.3; flex-grow: 1; overflow: hidden;}
.user-name { font-weight: 500; font-size: 14px; color: var(--light); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}
.user-role { font-size: 12px; color: var(--gray); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}
.action-btn-icon-only { width: 32px; height: 32px; border-radius: 6px; display: flex; align-items: center; justify-content: center; background-color: transparent; border: none; color: var(--gray); cursor: pointer; transition: all 0.2s ease; padding: 0; }
.action-btn-icon-only i { font-size: 1.1em; }
.action-btn-icon-only:hover { background-color: rgba(255, 255, 255, 0.08); color: var(--light); }
.user-profile .action-btn-icon-only:hover { color: var(--warning); background-color: rgba(245, 158, 11, 0.1); } /* Logout hover */


/* Main Content */
.main { margin-left: 260px; flex-grow: 1; display: flex; flex-direction: column; height: 100vh; overflow: hidden; transition: margin-left 0.3s ease;}
.header { background-color: white; border-bottom: 1px solid var(--border); padding: 1.25rem 2rem; display: flex; align-items: center; justify-content: space-between; flex-shrink: 0;}
.page-title { font-size: 22px; font-weight: 600; color: var(--text-dark); }
.header-actions { display: flex; align-items: center; gap: 1rem; }
.search-bar { position: relative; width: 300px; }
.search-input { width: 100%; padding: 0.6rem 1rem 0.6rem 2.5rem; border-radius: 0.5rem; border: 1px solid var(--border); font-size: 14px; background-color: white; color: var(--text-dark); }
.search-input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 2px rgba(var(--bs-primary-rgb), 0.2);}
.search-icon { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: var(--gray); pointer-events: none; }
.search-icon svg, .search-icon i { width: 16px; height: 16px; }
.search-form { display: flex; align-items: center; gap: 10px; flex-grow: 1; margin-right: 16px; }
.search-form .search-container { flex-grow: 1; max-width: 450px; }
.search-form .btn { flex-shrink: 0; padding: 0.6rem 0.8rem; } /* Search button size */

/* Buttons */
.btn { padding: 0.6rem 1.25rem; border-radius: 0.5rem; font-weight: 500; font-size: 14px; cursor: pointer; display: inline-flex; align-items: center; gap: 0.5rem; border: none; transition: all 0.2s ease; text-decoration: none; line-height: 1.5; }
.btn svg, .btn i { width: 16px; height: 16px; }
.btn-primary { background-color: var(--primary); color: white; }
.btn-primary:hover { background-color: var(--primary-dark); }
.btn-success { background-color: var(--success); color: white;}
.btn-success:hover { filter: brightness(0.9); }
.btn-secondary { background-color: var(--gray); color: white; }
.btn-secondary:hover { filter: brightness(0.9); }
.btn-danger { background-color: var(--danger); color: white; }
.btn-danger:hover { filter: brightness(0.9); }
.btn-warning { background-color: var(--warning); color: #1f2937; } /* Dark text on warning */
.btn-warning:hover { filter: brightness(0.9); }
.btn-outline { background-color: transparent; color: var(--gray); border: 1px solid var(--border); }
.btn-outline:hover { background-color: #f9fafb; border-color: var(--gray); color: var(--text-dark); }
.btn-outline-danger { color: var(--danger); border: 1px solid var(--danger); background: transparent;}
.btn-outline-danger:hover { background-color: rgba(var(--bs-danger-rgb), 0.05); }
.btn-sm { padding: 0.4rem 0.8rem; font-size: 13px; }
.btn-sm svg, .btn-sm i { width: 14px; height: 14px; }
.btn-icon { padding: 0.5rem; width: 34px; height: 34px; }
.btn-icon i { font-size: 1rem; gap: 0; margin: 0; }
.btn-search { background-color: var(--primary); color: white; border-color: var(--primary); }
.btn-search:hover { background-color: var(--primary-dark); border-color: var(--primary-dark); }
.btn-admin { background-color: var(--admin); color: white; border: none; } /* Admin button color */
.btn-admin:hover { filter: brightness(0.9); }
.add-entry-btn { background-color: var(--primary); color: white; } /* Specific add button */
.add-entry-btn:hover { background-color: var(--primary-dark); }

/* Header User Profile Actions */
.notification { position: relative; }
.notification .action-btn-icon-only { color: var(--gray); } /* Use consistent icon button */
.notification .action-btn-icon-only:hover { color: var(--dark); background-color: #e5e7eb;}
.notification-dot { position: absolute; top: 4px; right: 4px; width: 8px; height: 8px; border-radius: 50%; background-color: var(--danger); border: 1px solid white;}
.user-profile { display: flex; align-items: center; gap: 0.75rem; cursor: pointer; }
.user-avatar { width: 36px; height: 36px; border-radius: 50%; background-color: #e0e7ff; color: var(--primary); display: flex; align-items: center; justify-content: center; font-weight: 500; flex-shrink: 0;}
.user-info { line-height: 1.3; }
.user-name { font-weight: 500; font-size: 14px; color: var(--text-dark); }
.user-role { font-size: 12px; color: var(--gray); }

/* Content Area */
.content { padding: 2rem; flex-grow: 1; overflow-y: auto;} /* Allow scrolling */
.card { background-color: white; border-radius: 0.75rem; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); overflow: hidden; border: 1px solid var(--border); }
.card-header { padding: 1rem 1.5rem; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; }
.card-title { font-size: 18px; font-weight: 600; color: var(--text-dark); }

/* Table Styling for Admin */
.table{width:100%;border-collapse:collapse;font-size:14px;}
.table th, .table td{padding:0.9rem 1.5rem;text-align:left;border-bottom:1px solid var(--border);vertical-align:middle;}
.table thead th{background-color:#f9fafb;font-weight:500;color:var(--gray);font-size:13px;text-transform:uppercase;letter-spacing:0.5px;}
.table tbody tr:last-child td{border-bottom:none;}
.table tbody tr:hover{background-color:#f8fafc;}
.table .actions-cell{text-align:right;width:120px;}
.table .status-cell{width:100px;}
.table .role-cell{width:150px;}
.table .two-fa-cell{width:100px;}
.badge{padding:0.2rem 0.6rem;border-radius:9999px;font-size:12px;font-weight:500;display:inline-block;line-height:1.4;}
.badge-success{background-color:#dcfce7;color:#166534;}
.badge-secondary{background-color:#e5e7eb;color:#4b5563;}
.badge-danger{background-color: #fee2e2; color: #991b1b;}
.badge-role{background-color:#e0e7ff;color:#4338ca;}
.badge-admin{background-color:#fce7f3;color:#86198f;}
.badge-primary{background-color: rgba(var(--bs-primary-rgb), 0.15); color: var(--primary);}
.table-actions{display:flex;gap:0.5rem;justify-content:flex-end;}
.action-btn{padding:0.4rem;border-radius:0.375rem;border:1px solid var(--border);background-color:white;color:var(--gray);cursor:pointer;transition:all 0.2s ease;display:inline-flex;align-items:center;justify-content:center;}
.action-btn svg, .action-btn i{width:16px;height:16px;}
.action-btn:hover{background-color:#f1f5f9;color:var(--text-dark);}
.action-btn:disabled { opacity: 0.5; cursor: not-allowed; background-color: #e5e7eb;}
.action-btn.edit:hover { color: var(--warning); }
.action-btn.view:hover { color: var(--secondary); }
.action-btn.delete:hover { color: var(--danger); }
.action-btn.toggle-on { color: var(--success); }
.action-btn.toggle-on:hover { background-color: #dcfce7; }
.action-btn.toggle-off { color: var(--gray); }
.action-btn.toggle-off:hover { background-color: #e5e7eb; }
.table-actions form{margin:0;}
.table td .form-select-sm { height: calc(1.5em + 0.5rem + 2px); padding-top: 0.25rem; padding-bottom: 0.25rem; padding-left: 0.5rem; font-size: .8rem; display: inline-block; width: auto; vertical-align: middle; background-color: white; color: var(--text-dark); border-color: var(--border);}
.table td .btn-sm { vertical-align: middle;}

/* Flash Messages (Bootstrap Style) */
.alert{border-radius:6px;padding:0.8rem 1rem;padding-right:3rem;margin-bottom:1rem;font-size:14px;display:flex;align-items:center;position:relative; border-width: 1px; border-left-width: 4px !important;}
.alert i{margin-right:10px;font-size:1.2em;}
.alert-dismissible .btn-close{display:none;}
.alert-check-dismiss{position:absolute;top:50%;right:1rem;transform:translateY(-50%);padding:0.25rem 0.5rem;font-size:1.5rem;line-height:1;color:var(--gray);background-color:transparent;border:none;border-radius:4px;opacity:0.7;transition:all 0.2s ease-in-out;cursor:pointer;}
.alert-check-dismiss:hover{opacity:1;color:var(--text-dark);}
.alert-check-dismiss:focus{outline:none;box-shadow:0 0 0 0.2rem rgba(var(--bs-primary-rgb), 0.25);}
.alert-success{background-color:rgba(var(--bs-success-rgb), 0.1);color:var(--success);border-color:var(--success)!important;}
.alert-danger{background-color:rgba(var(--bs-danger-rgb), 0.1);color:var(--danger);border-color:var(--danger)!important;}
.alert-warning{background-color:rgba(var(--bs-warning-rgb), 0.1);color:var(--warning);border-color:var(--warning)!important;}
.alert-info{background-color:rgba(var(--bs-info-rgb), 0.1);color:var(--info);border-color:var(--info)!important;}

/* Fixed Logo (optional) */
.fixed-logo{position:fixed;bottom:15px;right:20px;z-index:1030;opacity:0.6;transition:opacity 0.2s ease-in-out;}
.fixed-logo img{max-height:35px;width:auto;}
.fixed-logo:hover{opacity:1.0;}

/* Helper class */
.hidden{display:none!important;}
.visually-hidden{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);border:0;}

/* Responsive */
@media (max-width:992px){.sidebar{width:65px;}.logo-text, .menu-item span, .user-info, .menu-category{display:none;}.sidebar-header{justify-content:center;padding:1rem 0.5rem;}.user-profile{justify-content:center;padding:0.75rem 0.5rem;}.main-content-wrapper{margin-left:65px;}}
@media (max-width:768px){ .layout{grid-template-columns:1fr;} .sidebar{position:static;width:100%;height:auto;border-right:none;border-bottom:1px solid #374151;} .sidebar-menu{flex-direction:row;overflow-x:auto;padding:0.5rem 1rem;justify-content:flex-start;gap:0.5rem;} .menu-item span{display:none;} .menu-category{display:none;} .user-profile{display:none;} .main-content-wrapper{margin-left:0;} .header{flex-direction:column;gap:1rem;padding:1rem;} .search-bar{width:100%;} .content{padding:1rem;} .table th, .table td{padding:0.75rem;} .hide-mobile{display:none;} .user-list-header, .user-list-item{grid-template-columns:1fr auto auto auto;gap:0.5rem;font-size:13px;padding:0.75rem;} .actions-cell{width:auto;} }
@media (max-width:576px){ .fixed-logo{display: none;} }

/* Public page specific styles */
.public-container{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:20px; width: 100%; background-color: var(--dark); /* Dark background for public pages */}
.public-card{width:100%;max-width:420px;background-color:var(--panel-bg);border:1px solid var(--border);border-radius:12px;padding: 30px 35px; box-shadow:0 10px 40px rgba(0,0,0,0.2);}
.public-title{font-size:24px;font-weight:600;color:var(--primary-light);text-align:center;margin-bottom:25px;}
.public-card .form-label { font-size: 13px; color: var(--text-secondary); }
.public-card .form-input { padding: 12px 14px; background-color: var(--dark-bg); }
.public-card .btn { padding: 12px 16px; font-size: 15px; background-color: var(--primary); color: white; border: none;}
.public-card .btn:hover { background-color: var(--primary-dark); }
.public-card p { font-size: 13px; color: var(--text-secondary); }
.public-card a { color: var(--primary-light); font-weight: 500; text-decoration: none;}
.public-card a:hover { text-decoration: underline; }
/* Base link styling */
a { color: var(--primary); text-decoration: none; }
a:hover { color: var(--primary-light); text-decoration: none;}