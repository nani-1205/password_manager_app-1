{% extends "public_base_v3.html" %} {# <-- Make sure this uses V3 #}

{% block title %}2FA Verification{% endblock %}

{% block content %}
    <h1 class="public-title">Two-Factor Verification</h1>
    <p class="text-center mb-4" style="font-size: 14px; color: var(--text-secondary);">
        Enter your password again and the 6-digit code from your authenticator app.
    </p>
    <form method="POST" action="{{ url_for('login_2fa') }}"> {# Use url_for #}
        <div class="form-group">
            <label for="password" class="form-label">Master Password:</label>
            <input type="password" class="form-input" id="password" name="password" required autocomplete="current-password">
        </div>
         <div class="form-group">
            <label for="totp_code" class="form-label">Authenticator Code:</label>
            <input type="text" class="form-input" id="totp_code" name="totp_code" required autocomplete="one-time-code" inputmode="numeric" pattern="\d{6}" title="Enter 6-digit code">
        </div>
        <button type="submit" class="btn btn-primary w-100 mt-3">Verify & Login</button>
    </form>
     <p class="mt-4 text-center"><a href="{{ url_for('logout') }}" style="color: var(--text-secondary);">Cancel Login</a></p> {# Use url_for #}
{% endblock %}